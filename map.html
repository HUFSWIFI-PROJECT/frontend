<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUFS-WIKI</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="./map-style.css" />
    <script defer src="./index.js"></script>
    <script
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDZD-SSKWGGabCpjy4oqqUobPs21KjdjB0&callback=initMap"
    ></script>
</head>
<script>
    window.initMap = function () {
  const map = new google.maps.Map(document.getElementById("map"), {
    center: { lat: 37.339626, lng: 127.270813 },
    zoom: 15,
  });
};
const malls = [
    { label: "H", name: "한국외국어대학교", lat: 37.339626, lng: 127.270813 },
  ];
  malls.forEach(({ label, name, lat, lng }) => {
    const marker = new google.maps.Marker({
      position: { lat, lng },
      label,
      map,
    });
  });
</script>
<body>
    <header id="headerType" class="header__wrap nexon">
        <div class="header__inner">
            <div class="header__logo">
                <a onclick="location.href = 'index.html'">HUFS WiKi</a>
            </div>
            <nav class="header__menu">
                <ul>
                    <li><a onclick="location.href = 'map.html'">지도</a></li>
                    <li><a onclick="location.href = 'recent.html'">최근 변경</a></li>
                </ul>
            </nav>
            <div class="header__search">
                <form class="search-box" action="" method="get">
                    <input class="search-txt" type="text" name="" placeholder="검색어를 입력하세요.">
                    <button class="search-bnt" type="submit">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </form>
            </div>
            <div class="header__member">
                <a onclick = "location.href ='login.html'">로그인</a>
            </div>
    </header>
    <main>
        <div id="map"></div>
    </main>
    <side>
        <div class="side_wiki">
            <div class="live_change">
                <div class="live_head">
                    <i class="fa-solid fa-fire" class="icon"></i>
                    <div class="live_name">실시간 검색어</div>                    
                </div>
                <div class="live_ranking">
                    <a href="#"></a>
                    <a href="#"></a>
                    <a href="#"></a>
                    <a href="#"></a>
                    <a href="#"></a>
                    <a href="#"></a>
                    <a href="#"></a>
                    <a href="#"></a>
                    <a href="#"></a>
                    <a href="#"></a>
                </div>
            </div>
            <div class="recent_change">
                <div class="recent_head">
                    <div class="recent_head1">
                        <i class="fa-solid fa-clock" class="icon"></i>
                        <div class="recent_name">최근 변경</div>

                    </div>
                    <div class="recent_head2">
                        <a onclick="location.href = 'recent.html'"><i class="fa-solid fa-angle-right" class="icon"></i></a>  
                    </div>                  
                </div>
                <div id = "recent_body">
                    <script>
                        let contentHTML = '';
                        fetch('http://152.69.225.60/findbyall')
                                    .then(response => response.json())
                                    .then(data => {
                                        for (let dat of data) {
                                            console.log(dat.content);
                                            contentHTML+='<a href="http://localhost:5500/frontend/index.html?id='+dat.id+'">'+dat.title+'</a><br>';
                                        }
                                        document.getElementById('recent_body').innerHTML = contentHTML;
                                    })
                                    .catch(error => {
                                        console.error('Error fetching data:', error);
                                    });
                                
    
                        </script>

                </div>
                
                <div class="recent_ranking"></div>
            </div>
        </div>
    </div>
    </side>
</body>

